<!DOCTYPE html>
<html xmlns:og="http://opengraphprotocol.org/schema/"
      xmlns:fb="http://developers.facebook.com/schema/"
      
>
    <head>
        <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
        <title>Asepsis is a system utility for prevention of .DS_Store files</title>
        
        <link rel="canonical" href="http://asepsis.binaryage.com">
        
        
        <meta name="title" content="Asepsis is a system utility for prevention of .DS_Store files" />
        
        
        <meta name="description" content="Asepsis is a system utility for prevention of .DS_Store files created by Finder and other applications" />
        
        
        <meta name="keywords" content="totalfinder,asepsis,osx,simbl,binaryage,productivity,software,system,utility" />
        
        
        <link rel="image_src" href="http://www.binaryage.com/shared/img/icons/asepsis-256.png" />
        
        <meta name="google-site-verification" content="N_xzdr6ymSUQFhAEvQg7f-sp1JAeJCdW2JuaRg-da0w" />
        <meta property="fb:admins" content="antonin.hildebrand" />
        
            
                <meta property="og:email" content="support@binaryage.com" />
            
            
                <meta property="og:description" content="Asepsis is a system utility for prevention of .DS_Store files" />
            
            
                <meta property="og:site_name" content="BinaryAge website" />
            
            
                <meta property="og:type" content="product" />
            
            
                <meta property="og:title" content="Asepsis" />
            
            
                <meta property="og:url" content="http://asepsis.binaryage.com" />
            
            
                <meta property="og:image" content="http://www.binaryage.com/shared/img/icons/asepsis-256.png" />
            
        
        
        <!-- test comment - hello world! -->

        <link href="http://www.google.com/profiles/antonin.hildebrand" rel="me" type="text/html" />
        <link href="http://feeds.feedburner.com/binaryage-blog" type="application/atom+xml" rel="alternate" title="Ideas from BinaryAge" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        
        <script type="text/javascript" charset="utf-8">
            // give the custom font 5s to load, otherwise enable simple font visibility
            setTimeout(function() {
                $('html').addClass('wf-fake-active');
            }, 2000);
        </script>
        
        <style type="text/css">
            /* prevent visible font switching - this is also repeated in global.styl for fastspring compatibility!  */
            .js .wf {
                opacity: 0 !important;
                filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0) !important;
                -webkit-transition: opacity 0.5s ease 0s;
                -moz-transition: opacity 0.5s ease 0s;
                -o-transition: opacity 0.5s ease 0s;
                transition: opacity 0.5s ease 0s;
            }
            .wf-active .wf,
            .wf-fake-active .wf {
                opacity: 1 !important;
                filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100) !important;
            }
        </style>
        
        

        <link rel="stylesheet" href="/base/css/site.css" type="text/css">
    
        
        
        
        
        <!-- SCRIPTS START -->
        <script type="text/javascript" charset="utf-8">
            /*
            CSS Browser Selector v0.4.0 (Nov 02, 2010)
            Rafael Lima (http://rafael.adm.br)
            http://rafael.adm.br/css_browser_selector
            License: http://creativecommons.org/licenses/by/2.5/
            Contributors: http://rafael.adm.br/css_browser_selector#contributors
            */
            function css_browser_selector(u){var ua=u.toLowerCase(),is=function(t){return ua.indexOf(t)>-1},g='gecko',w='webkit',s='safari',o='opera',m='mobile',h=document.documentElement,b=[(!(/opera|webtv/i.test(ua))&&/msie\s(\d)/.test(ua))?('ie ie'+RegExp.$1):is('firefox/2')?g+' ff2':is('firefox/3.5')?g+' ff3 ff3_5':is('firefox/3.6')?g+' ff3 ff3_6':is('firefox/3')?g+' ff3':is('gecko/')?g:is('opera')?o+(/version\/(\d+)/.test(ua)?' '+o+RegExp.$1:(/opera(\s|\/)(\d+)/.test(ua)?' '+o+RegExp.$2:'')):is('konqueror')?'konqueror':is('blackberry')?m+' blackberry':is('android')?m+' android':is('chrome')?w+' chrome':is('iron')?w+' iron':is('applewebkit/')?w+' '+s+(/version\/(\d+)/.test(ua)?' '+s+RegExp.$1:''):is('mozilla/')?g:'',is('j2me')?m+' j2me':is('iphone')?m+' iphone':is('ipod')?m+' ipod':is('ipad')?m+' ipad':is('mac')?'mac':is('darwin')?'mac':is('webtv')?'webtv':is('win')?'win'+(is('windows nt 6.0')?' vista':''):is('freebsd')?'freebsd':(is('x11')||is('linux'))?'linux':'','js']; c = b.join(' '); h.className += ' '+c; return c;}; css_browser_selector(navigator.userAgent);
        </script>
        <script type="text/javascript" charset="utf-8">
            // define dummy replacements for firebug functionality (needed for Opera)
            if (!window.console) {
                window.console = {};
                function fn() {
                    opera.postError(arguments);
                };
                ['log', 'debug', 'info', 'warn', 'error', 'assert', 'dir', 'dirxml', 'group', 'groupEnd', 
                'time', 'timeEnd', 'count', 'trace', 'profile', 'profileEnd'].forEach(function(name) {
                    window.console[name] = fn;
                });
            }            
            (function() {
                    var names = ["log", "debug", "info", "warn", "error", "assert", "dir", "dirxml", "group", "groupEnd", "time", "timeEnd", "count", "trace", "profile", "profileEnd"];
                    if(!window.console){
                        window.console = {};
                    }
                    for (var i in names) {
                        window.console[names[i]] = window.console[names[i]] || function(){
                            return;
                        };
                    }
            })();
        </script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
        <script type="text/javascript" charset="utf-8">
            // https://github.com/carhartl/jquery-cookie
            function bacookie(key, value, options) {
                // key and at least value given, set cookie...
                if (arguments.length > 1 && String(value) !== "[object Object]") {
                    options = options || {};

                    if (value === null || value === undefined) {
                        options.expires = -1;
                    }

                    if (typeof options.expires === 'number') {
                        var days = options.expires, t = options.expires = new Date();
                        t.setDate(t.getDate() + days);
                    }

                    value = String(value);

                    return (document.cookie = [
                        encodeURIComponent(key), '=',
                        options.raw ? value : encodeURIComponent(value),
                        options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
                        options.path ? '; path=' + options.path : '',
                        options.domain ? '; domain=' + options.domain : '',
                        options.secure ? '; secure' : ''
                    ].join(''));
                }

                // key and possibly options given, get cookie...
                options = value || {};
                var result, decode = options.raw ? function (s) { return s; } : decodeURIComponent;
                return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null;
            };
            // parseUri 1.2.2
            // (c) Steven Levithan <stevenlevithan.com>
            // MIT License

            function parseUri (str) {
                var o   = parseUri.options,
                    m   = o.parser[o.strictMode ? "strict" : "loose"].exec(str),
                    uri = {},
                    i   = 14;

                while (i--) uri[o.key[i]] = m[i] || "";

                uri[o.q.name] = {};
                uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {
                    if ($1) uri[o.q.name][$1] = $2;
                });

                return uri;
            };

            parseUri.options = {
                strictMode: false,
                key: ["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],
                q:   {
                    name:   "queryKey",
                    parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                },
                parser: {
                    strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                    loose:  /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                }
            };            
        </script>

        <script>
            function utmx_section(){}function utmx(){};
        </script>
        

        <script type="text/javascript">
            WebFontConfig = { 
                google: { families: [ 'Play:regular,bold' ] }
            };
            (function() {
                var wf = document.createElement('script');
                wf.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
                wf.type = 'text/javascript';
                wf.async = 'true';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(wf, s);
            })();
        </script>
        
        
        <script src="/base/js/code2.js"></script>
        
    
        <script type="text/javascript">
            var _gaq = _gaq || [];
        </script>
        
        <script type="text/javascript">
            _gaq.push(['_setAccount', 'UA-8404259-1']);
            _gaq.push(['_addIgnoredRef', '.binaryage.com']); // do not count subdomains as referrer trafic
            _gaq.push(['_setDomainName', '.binaryage.com']); // track all subdomains with shared cookie
            _gaq.push(['_setAllowLinker', true]); // important for cross domain user tracking (the session may be passed in URL params)
            _gaq.push(['_setAllowHash', false]); // do not use url-hash check
            _gaq.push(['_trackPageview']);
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
        
    
        
        
        
        <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
        
        
        <!-- SCRIPTS END -->
    </head>
    <body id="page-asepsis-index">
        <div id="topbar">
            <div class="container topbar">
                <div class="topbar-buttons">
                    <div class="topbar-labs wf">
                        labs
                    </div>
                    <div class="topbar-testimonials wf">
                        testimonials
                    </div>
                </div>
            </div>
        </div>
        <div id="header" class="menu-products">
            <div class="container header">
                <a href="http://www.binaryage.com" title="BinaryAge Software">
                    <div class="header-logo">
                        <div class="header-logo-hover"></div>
                    </div>
                </a>
                
                <div class="header-motto arrow"></div>
                <div class="header-selector"></div>
                <ul class="header-menu">
                    <li class="menu-item-store wf"><a href="http://www.binaryage.com/store"><span>store</span></a></li>
                    <li class="menu-item-products wf"><a href="http://www.binaryage.com"><span>products</span></a></li>
                    <li class="menu-item-blog wf"><a href="http://blog.binaryage.com"><span>blog</span></a></li>  
                    <li class="menu-item-hints wf"><a href="http://hints.binaryage.com"><span>hints</span></a></li>
                    <li class="menu-item-support wf"><a href="http://support.binaryage.com"><span>support</span></a></li>
                </ul>
            </div>
        </div>
        <div id="main">
            
            <div class="wf">
            <div class="main-product" id="product-asepsis">
    <div class="container">
        <div class="main-product-left span-12">
            <div class="product-logo-box">
                <img class="product-icon" src="/base/img/icons/asepsis-64.png">
                <div class="product-tagline">
                    <h1 class="product-title">Asepsis</h1><div class="plusone-wrapper"><g:plusone size="medium"></g:plusone></div>
                    <h2 class="product-subtitle">a smart solution for .DS_Store pollution</h2>
                </div>
            </div>
            <div class="product-buttons-box">
                <div class="product-buttons">
                    
                    <a id="o-download" href="http://downloads.binaryage.com/Asepsis-1.3.dmg" class="button product-button-download">
                        <div><div>Download v1.3<div class="product-specs">Requires OS X 10.7 or higher</div></div></div>
                    </a>
                    
                    
                    <div class="clear"></div>
                </div>
                <div class="product-note-box">
                    
                        <div class="product-note">Asepsis was originally a feature of <a href="http://totalfinder.binaryage.com">TotalFinder</a>.</div>
                    
                </div>
            </div>
            <div class="social-box">
                <div class="social-box-inner">
                    
                    <div class="retweet">
                    </div>
                    <script>
                        $(".retweet").html(writeCapture.sanitize('<a href="http://twitter.com/share" class="twitter-share-button retweet" data-count="vertical" data-via="binaryage">Tweet</a><scr'+'ipt type="text/javascript" src="http://platform.twitter.com/widgets.js"></scr'+'ipt>'));
                    </script>
                    
                    
                    
                    
                    
                </div>
                <div class="clear"></div>
            </div>    
        </div>
        <div class="main-product-right span-12 last">
            <div class="main-screenshot">
                
                <div id="screenshot-box-1" class="screenshot-box no-shadow" >
                    
                        <img src="http://asepsis.binaryage.com/shared/img/asepsis-mainshot.png"/>
                        
                    
                </div>
                
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div class="main-tabs" id="tabs-asepsis">
    <div class="container">
        <div class="tab-bar">
            <ul class="tabs"></ul> 
        </div>
        <div class="panes"></div>
    </div>
</div>

<div class="main-content-here" style="display:none">
    <h2>About</h2>

<h3>What does it do for me?</h3>

<p>It prevents creation of <a href="http://en.wikipedia.org/wiki/.DS_Store">.DS_Store</a> files. It redirects their creation into a special folder.</p>

<h3>Why is .DS_Store a problem?</h3>

<p>Well, it is not really a problem for most Mac users because .DS_Store files are normally hidden in the Finder.</p>

<p>But I'm a developer and I run Finder with <a href="http://totalfinder.binaryage.com">TotalFinder</a> and I have enabled display of hidden files. Also I run a lot of command-line tools via terminal. The problem is that sometimes .DS_Store files get into a way. I hate when my clean new folders get polluted by those small tiny files holding unimportant garbage. I hate when I zip a folder using some unix command and it includes .DS_Store files in the archive. I hate when I visit a network volume and that pollutes its content with those nasty files. To put it simply I don't want my geeky Windows friends to laugh at me because this makes me look incompetent.</p>

<p>That is why I decided to solve this for myself and I'm sharing my solution with other Mac geeks out there to help them protect their egos :-)</p>

<h3>Asepsis does .DS_Store redirection. How does it work technically?</h3>

<p>Apple implemented a private system framework <code>DesktopServicesPriv</code> which is responsible for creating and manipulating .DS_Store files. This framework is used mainly by Finder, but there are also other system apps which link against it and may use it (yes mdworker I'm looking at you!). DesktopServicesPriv uses standard libc calls to manipulate .DS_Store files.</p>

<p>At core Asepsis provides a dynamic library <code>DesktopServicesPrivWrapper</code> which gets loaded into every process linking against DesktopServicesPriv.framework. It interposes some libc calls used by DesktopServicesPriv to access .DS_Store files. Interposed functions detect paths talking about .DS_Store files and redirect them into a special prefix folder. This seems to be transparent to DesktopServicesPriv.</p>

<p>Additionally Asepsis implements a system-wide daemon <code>asepsisd</code> whose purpose is to monitor system-wide folder renames (or deletes) and mirror those operations in the prefix folder. This is probably the best we can do. This way you don't lose your settings after renaming folders because rename is also executed on a folder structure in the prefix directory.</p>

<h3>The prefix folder is <strong><code>/usr/local/.dscage</code></strong></h3>

<ol>
<li><code>DesktopServicesPrivWrapper</code> - a proxy library for interposing file manipulation calls in DesktopServicesPriv</li>
<li><code>asepsisd</code> - a system-wide daemon for mirroring folder renames and deletes in the prefix folder</li>
<li><code>asepsisctl</code> - a command-line utility for controlling Asepsis operation</li>
</ol>


<h2>Installation</h2>

<p>To install the software:</p>

<ol>
<li>Run the <a href="http://downloads.binaryage.com/Asepsis-1.3.dmg">installer</a></li>
<li>Restart your computer</li>
</ol>


<p>After reboot .DS_Store files are no longer created when you open Finder and browse folders (in case .DS_Store files are not already present there).</p>

<h3>Troubleshooting</h3>

<p>In Terminal.app run:</p>

<pre><code>asepsisctl diagnose
</code></pre>

<h3>Updates</h3>

<p>Asepsis checks for update after every reboot using Sparkle framework. It also checks its consistencty at that point.</p>

<h3>Uninstallation</h3>

<p>Just run provided uninstaller from the DMG archive or in Terminal execute:</p>

<pre><code>asepsisctl uninstall
sudo reboot
</code></pre>

<p>Alternatively you may use uinstaller which comes with the DMG archive. It launches <code>asepsisctl uninstall</code> for you.</p>

<h3>Installing from sources</h3>

<p>You may want to review the source code and install it by compiling it from sources. Please follow instructions in <a href="http://github.com/binaryage/asepsis">GitHub repository</a>.</p>

<h2>Control</h2>

<h3>You may control asepsis operation via asepsisctl</h3>

<p>During the installation asepsisctl tool is symlinked into <code>/usr/local/bin</code>, so it should be visible from the command-line.</p>

<pre><code>&gt; asepsisctl --help
The control script for asepsis operations.

Usage:
    asepsisctl [command] [options]

Commands:
    disable                          Disables asepsis.
    enable                           Enables asepsis.
    diagnose                         Diagnoses asepsis setup.

Helper commands:
    neton                            Enables DS_Store files on network volumes.
    netoff                           Disables ... (http://support.apple.com/kb/ht1629).
    migratein                        Migrates .DS_Store files in /usr/local/.dscage.
    migrateout                       Migrates .DS_Store files from /usr/local/.dscage.
    prune                            Removes empty directories from /usr/local/.dscage.
    clean                            Deletes all content from /usr/local/.dscage.

Installation commands:
    install                          Performs reinstallation (using "/Users/darwin/code/asepsis/bin/Asepsis").
    uninstall                        Performs complete uninstallation.
    install_wrapper                  Installs DesktopServicesPriv.framework wrapper.
    uninstall_wrapper                Uninstalls DesktopServicesPriv.framework wrapper.
    remove_symlink                   Removes asepsisctl symlink from /usr/local/bin.
    create_symlink                   Creates asepsisctl symlink in /usr/local/bin.
    make_dscage                      Makes sure /usr/local/.dscage exists with sufficient rights.
    kill_daemon                      Stops asepsis daemon.
    uninstall_daemon                 Uninstalls asepsis daemon.
    install_daemon                   Installs asepsis daemon.
    launch_daemon                    Launches asepsis daemon.
    enable_warnings                  Enables warnings caused by mach_override (vm.shared_region_unnest_logging)
    disable_warnings                 Disables warnings caused by mach_override (vm.shared_region_unnest_logging)
    uninstall_updater                Uninstalls asepsis updater.
    install_updater                  Installs asepsis updater.

Backward compatibility:
    uninstall_dylib                  Removes libAsepsis.dylib from /etc/launchd.conf.
    uninstall_kext                   Removes /System/Library/Asepsis.kext during next boot.

Where options are:
    -r, --root /Users/darwin         Root folder for migration
    -d, --[no-]dry                   Run migration in dry mode
    -v, --[no-]verbose               Be more verbose
    -f, --[no-]force                 Force operation
    -h, --help                       Show this message
    -V, --version                    Print version        
</code></pre>

<h2>Diagnose</h2>

<p>Asepsis modifies system files in <code>/System/Library/PrivateFrameworks/DesktopServicesPriv.framework</code>.</p>

<p>As you can guess there is a clear risk that during system update Apple reverts files to the originals. This should be no big deal. Asepsis checks for this at every reboot and reports it. Reinstalling asepsis should patch it back. In the worst case you will notice that you have .DS_Store files creeping back in the house.</p>

<p>To diagnose asepsis run:</p>

<pre><code>asepsisctl diagnose
</code></pre>

<p>Here is the script source: <a href="https://github.com/binaryage/asepsis/blob/master/ctl/cmd/diagnose.rb">https://github.com/binaryage/asepsis/blob/master/ctl/cmd/diagnose.rb</a></p>

<p>To reinstall DesktopServicesPriv wrapper run:</p>

<pre><code>asepsisctl uninstall_wrapper
asepsisctl install_wrapper
</code></pre>

<p>Here is the script source: <a href="https://github.com/binaryage/asepsis/blob/master/ctl/cmd/install_wrapper.rb">https://github.com/binaryage/asepsis/blob/master/ctl/cmd/install_wrapper.rb</a></p>

<h3>The list of known issues</h3>

<h4>General</h4>

<ul>
<li>when copying folders, DS_Store settings are not copied over (daemon is unable to distinguish this class of file operations)</li>
</ul>


<p>Please <a href="mailto:support@binaryage.com">report any issues</a>.</p>

<h2>FAQ</h2>

<h4>Sounds scary. Is this safe?</h4>

<blockquote><p>Well uhmmm, use it at your own risk :-) It sounds scary but it should be a pretty lightweight solution. You should <a href="http://github.com/binaryage/asepsis">review the code</a> to see what it does.</p></blockquote>

<h4>Could this be ported to Snow Leopard?</h4>

<blockquote><p>Probably yes. Pre-Lion DesktopServicesPriv calls File Manager APIs from CoreServices. Technically the same approach could be done to File Manager. Actually this is what TotalFinder (prior to version 1.3) did under Snow Leopard using mach_override. I'm not going to implement it for Snow Leopard because I've already switched to Lion personally.</p></blockquote>

<h4>What if .DS_Store file is already present in a folder?</h4>

<blockquote><p>Asepsis will use it. It won't redirect it in this case. This way Asepsis works seamlessly with DMG archives or folders you browse on a network. If you delete the .DS_Store file,  next time it will be created in the prefix folder. This is pretty simple approach how to adopt Asepsis incrementally on folder-by-folder basis.</p></blockquote>

<h4>How could I migrate existing .DS_Store files?</h4>

<blockquote><p>Please see <code>asepsisctl migratein</code> command</p></blockquote>

<h4>Are there any processes which don't work well with Asepsis?</h4>

<blockquote><p>Asepsis has white-list of processes known to manipulate with .DS_Store files. Right now it is effective for Finder.app and mdwrite process.</p></blockquote>

<h4>What about using resource forks for hiding .DS_Store files?</h4>

<blockquote><p>Nice idea! This would be probably a more elegant approach but it would work only for HFS+ volumes. I haven't tried to implement it via resource forks. I decided to run with this prefix-folder approach which seemed to me as a more predictable approach. Feel free to <a href="https://github.com/binaryage/asepsis">fork and experiment</a>.</p></blockquote>

<h4>How can I keep Asepsis up-to-date?</h4>

<blockquote><p>Asepsis is using Sparkle updater. You should be prompted when a new version comes out. Asepsis checks for new version after every reboot.</p></blockquote>

<h4>What happened in 10.7.4 update?</h4>

<blockquote><p>Previously Asepsis used DYLD_INSERT_LIBRARIES to modify DesktopServicesPriv during load time. Unfortunately Flashback malware used the same mechanism and Apple decided to block system-wide usage of DYLD_INSERT_LIBRARIES in 10.7.4 update. As a workaround Asepsis 1.2 modifies DesktopServicesPriv on the disk during installation. This is more dirty solution. At least I have implemented post-login check which will inform you that someone reverted Asepsis changes back. For example after you do a system update and Apple may rewrite DesktopServicesPriv framework with new version. In this case <code>asepsisctl install_wrapper</code> should patch it again but better wait for my update.</p></blockquote>

<h4>Does Asepsis install some kernel extension?</h4>

<blockquote><p>Since version 1.3 Asepsis does not use kernel extension anymore.</p></blockquote>

<h2>Changelog</h2>

<div class="changelogx"></div>




<script type="text/javascript" charset="utf-8">
    $(function() {
        $('.changelogx').load('changelog.html?x='+((Math.random()+"").substring(2))+' #page');
    });
    
    function showBetaHint() {
        $('.betahint').toggle();
    }
</script>


</div>

<script>
$(function() { 
    var panes = $('.panes');
    var tabs = $('.tabs');
    var cur;
    var items = $('.main-content-here > *');
    items.each(function(i) {
        var el = $(this);
        var tag = el.attr('tagName');
        if (tag=='SCRIPT') return;
        if (tag=='NOSCRIPT') return;
        if (tag=='STYLE') return;
        if (el.hasClass('panes') || el.hasClass('tabs')) return;
        if (el.attr('tagName')=='H2') {
            var name = el.html();
            var id = name.toLowerCase().replace(/[^a-z0-9]/g, '-');
            var li = $('<li/>');
            var a = $('<a class=\"tbx\"/>').attr('href', '#'+id).html(name);
            li.append(a);
            a.append('<div class="shadow"></div>');
            tabs.append(li);
            cur = $('<div/>').addClass('wikistyle').addClass(id);
            panes.append(cur);
            el.remove();
            cur.append($("<h2/>").html(name));
        } else {
            if (cur) {
                cur.append(el);
            }
        }
    });
    $("ul.tabs").tabs("div.panes > div");
    $("ul.tabs a").history();
});
</script>

<script>
    $(function() {
        $(".product-thumbs-scrollable").scrollable({
            size: 5
        });

        $(".product-thumbs-items img").click(function() {
            var img = $(this);
            var visible = $('.screenshot-box:visible');
            var box = $(img.attr('rel'));
            if (box[0] === visible[0]) return; // optimization to not fade when clicked same image or during initial load
            visible.fadeOut();
            box.fadeIn();
        }).filter(":first").click(); // when page loads simulate a "click" on the first image
    });
</script>

<div class="simple_overlay" id="overlay-gallery" style="display:none"> 
    <a class="overlay-prev">prev</a> 
    <a class="overlay-next">next</a> 
    <div class="overlay-info"></div>
    <img class="overlay-progress" src="http://asepsis.binaryage.com/base/img/twitter-loader.gif" /> 
</div>

<script>
(function() {
    $('.overlayable').overlay({
        expose: '#f1f1f1',
        target: '#overlay-gallery'
    }).gallery({
        disabledClass: 'disabled-overlay',
        prev: '.overlay-prev',
        next: '.overlay-next',
        info: '.overlay-info',
        progress: '.overlay-progress',
        opacity: 1,
        speed: 200, 
        template: '[${index}/${total}] ${title}'
    });
})();
</script>

            </div>
            
            <div class="clear"></div>
        </div>
        <div id="tweets-section">
            <div class="container" style="position: relative">
                <ol id="tweets" class="statuses"></ol>
            </div>
        </div>
        
        <div id="footer">
            <div class="container">
                <div class="footer-separator"></div>
                <div class="footerbox">
                    
                    <div class="facebook-like-button-wrapper">
                        <fb:like width="650" href="http://asepsis.binaryage.com" layout="standard" show_faces="false" font="arial"></fb:like>
                    </div>
                    
                    <div class="footer-links wf">
                        
                        <a href="javascript:GSFNFeedbackWidget.show()">feedback</a> | 
                        
                        
                        <a href="http://github.com/binaryage/asepsis">source code</a> | 
                        
                        <a href="http://www.binaryage.com/about.html">contact</a>
                    </div>
                </div>
            </div>
        </div>

        
    
        

        
    
        
        <div id="fb-root"></div>
        <script type="text/javascript">
            window.fbAsyncInit = function() {
                FB.init({appId: '332451499524', status: true, cookie: true, xfbml: true});
            };
            (function() {
                var e = document.createElement('script'); e.async = true;
                e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
                document.getElementById('fb-root').appendChild(e);
            }());
        </script>
        

        
        
        <script type="text/javascript" charset="utf-8">
            $(function() {
                var initialized;
                $('.topbar-testimonials').bind('click', function() {
                    if (window.SSTracker) {
                        SSTracker.pushState('praise');
                    }
            
                    if (!initialized) {
                        $("#tweets").tweet({
                            user: "binaryage"
                        });
                        initialized = true;
                    }
                });
        
                // trigger page states
                setTimeout(function() { // give other code some time to init
                    var hash = location.hash.substring(1);
                    if (hash.substring(0,2)=="o-") {
                        $('#'+hash).trigger('click');
                    }
                }, 500);
            });
    
            // localhost debug
            $(function() {
                var host = document.location.host;
                if (host.substring(host.length-3)=='org') {
                    $('a').each(function() {
                        var el = $(this);
                        var href = el.attr('href');
                        if (href) {
                            if (href.match('binaryage.com')) {
                                href = href.replace('binaryage.com', 'binaryage.org');
                            }
                            var loc = document.location+"";
                            if (href.substring(0, 4)!="http" && href.match(/\/[^.]+$/i)) { 
                                // this is for local jekyll server inconsistency
                                if (host.substring(loc.length-1)=="2") { 
                                    // next website version
                                    href += "2";
                                }
                                if (loc.substring(loc.length-6)=="2.html") { 
                                    // next website version
                                    href += "2";
                                }
                                href += ".html";
                            }
                            el.attr('href', href);
                        }
                    });
                }
            });
            
            (function(){
                // store the referrer in cookie for later reuse
                var parts = parseUri(document.location+"");
                var referrer = parts.queryKey["referrer"];
                if (referrer) {
                    bacookie("bareferrer", referrer, {path: '/', expires: 14});
                }
            })();
  
            // cross-domain tracking
            // http://code.google.com/apis/analytics/docs/tracking/gaTrackingSite.html
            $('a').live('click', function() {
                var href = $(this).attr("href")+"";
                // pass referrer if available, FastSpring will report it on final order
                var referrer = bacookie("bareferrer");
                if (referrer) {
                    href += (href.indexOf("?")==-1?"?":"&")+"referrer="+encodeURIComponent(referrer);
                }
                var current = document.location+"";
                // just for switching domains between binaryage.com <-> fastspring.com
                if ((current.match(/fastspring\.com/) && href.match(/binaryage\.com/)) || 
                    (current.match(/binaryage\.com/) && href.match(/fastspring\.com/))) {
                    _gaq.push(['_link', href]);
                    return false;
                }
            });
        </script>
        

        
        <div id="getsatifucktion"></div>
        <div id="getsatifucktion2"></div>
        <script type="text/javascript" charset="utf-8">
            $("#getsatifucktion").html(writeCapture.sanitize('<scr'+'ipt type="text/javascript" src="http://s3.amazonaws.com/getsatisfaction.com/javascripts/feedback-v2.js"></scr'+'ipt>', {
                done: function() {
                    if (typeof window.GSFN == "object") {
                        window.GSFNFeedbackWidget = new GSFN.feedback_widget({
                            container: "getsatifucktion2",
                            display: "overlay",
                            company: "binaryage",
                            placement: "hidden",
                            color: "#656565",
                            style: "idea"
                        });
                    }
                }
            }));
        </script>
        

        

        
        <script type="text/javascript">
          var _gauges = _gauges || [];
          (function() {
            var t   = document.createElement('script');
            t.type  = 'text/javascript';
            t.async = true;
            t.id    = 'gauges-tracker';
            
            t.setAttribute('data-site-id', '4f10d65d844d52139500000b');
            
            t.src = '//secure.gaug.es/track.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(t, s);
          })();
        </script>
        

        
        <div class="suck-area">
            <div class="container">
                <div class="fixed-wrapper">
                    <div class="suck-dialog suck-ie5" style="display:none">
                        This page is using the latest HTML5 techniques. You are using old Internet Explorer 5. Please <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">upgrade to Internet Explorer 9</a> for pixel-perfect experience. Thanks!
                        <div class="suck-close" onclick="$(this).parent().addClass('suck-closed'); bacookie('suck-closed', '1', {path: '/'})"></div>
                        <div class="suck-icon"></div>
                    </div>
                    <div class="suck-dialog suck-ie6" style="display:none">
                        This page is using the latest HTML5 techniques. You are using old Internet Explorer 6. Please <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">upgrade to Internet Explorer 9</a> for pixel-perfect experience. Thanks!
                        <div class="suck-close" onclick="$(this).parent().addClass('suck-closed'); bacookie('suck-closed', '1', {path: '/'})"></div>
                        <div class="suck-icon"></div>
                    </div>
                    <div class="suck-dialog suck-ie7" style="display:none">
                        This page is using the latest HTML5 techniques. You are using old Internet Explorer 7. Please <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">upgrade to Internet Explorer 9</a> for pixel-perfect experience. Thanks!
                        <div class="suck-close" onclick="$(this).parent().addClass('suck-closed'); bacookie('suck-closed', '1', {path: '/'})"></div>
                        <div class="suck-icon"></div>
                    </div>
                    <div class="suck-dialog suck-ie8" style="display:none">
                        This page is using the latest HTML5 techniques. You are using old Internet Explorer 8. Please <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">upgrade to Internet Explorer 9</a> for pixel-perfect experience. Thanks!
                        <div class="suck-close" onclick="$(this).parent().addClass('suck-closed'); bacookie('suck-closed', '1', {path: '/'})"></div>
                        <div class="suck-icon"></div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript" charset="utf-8">
            if (bacookie('suck-closed')) {
                $('.suck-dialog').addClass('suck-closed');
            }
        </script>
        
    </body>
</html>